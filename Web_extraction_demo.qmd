---
title: "Web Extraction"
format: html
author: "Nathan Weldon"
date: as.date()
editor: visual
---

## Introduction

In this project, I will work with online sources to recreate already produced data as a challenge. I will demonstrate my ability in data extraction, cleaning, and visualization.

```{r}
pacman::p_load(
  tidyverse,
  fivethirtyeight,
  rvest,
  httr,
  janitor
)

```

## Movie Data

538 is a website that focuses on opinion poll analysis, politics, economics, and sports blogging. It was created and is currently run by Nate Silver, who has become famous for his writing and work on the site. I found this interesting article [linked here](https://fivethirtyeight.com/features/fandango-movies-ratings/) about how fandango has skewed ratings for a variety of reasons, when rating movies. Below is the recreation of the plot containing all of the critics and their ratings, along with more conclusions.

```{r warning = FALSE, echo = FALSE, include = FALSE}
# install.packages("fivethirtyeight")
rating <- read.csv('https://raw.githubusercontent.com/fivethirtyeight/data/master/fandango/fandango_score_comparison.csv') 

```

```{r include = FALSE}
#Finding Fandango Stars
fandango <- rating %>%
  drop_na() %>% 
  filter(Fandango_votes > 30) %>% 
  filter(FILM %>% str_detect('2015')) %>% 
  select(c(FILM, Fandango_Stars)) 

fandango_count <- count(fandango, Fandango_Stars)
fandango_data <- tibble(Fandango_Stars = seq(.5,5, .5)) %>% 
  full_join(fandango_count) %>% 
  mutate(count = case_when(
    is.na(n) ~ 0,
    !is.na(n) ~ as.numeric(n)
  )) %>% select(Fandango_Stars, count)

#Finding Other Stars
other_critics <- rating %>% 
  drop_na() %>% 
  filter(Fandango_votes > 30) %>% 
  filter(FILM %>% str_detect('2015')) %>% 
  select(c(FILM, contains("round")))

#Rotten Tomatoes
rt_count <- count(other_critics, RT_norm_round)
rt_data <- tibble(RT_norm_round = seq(0.5, 5, .5)) %>% 
  full_join(rt_count) %>% 
  mutate(count = case_when(
    is.na(n) ~ 0,
    !is.na(n) ~ as.numeric(n)
  )) %>% select(RT_norm_round, count)

#RT User
rt_user_count <- count(other_critics, RT_user_norm_round)
rt_user_data <- tibble(RT_user_norm_round = seq(0.5, 5, .5)) %>% 
  full_join(rt_user_count) %>% 
  mutate(count = case_when(
    is.na(n) ~ 0,
    !is.na(n) ~ as.numeric(n)
  )) %>% select(RT_user_norm_round, count)

#Metacritic
mc_count <- count(other_critics, Metacritic_norm_round)
mc_data <- tibble(Metacritic_norm_round = seq(0.5, 5, .5)) %>% 
  full_join(mc_count) %>% 
  mutate(count = case_when(
    is.na(n) ~ 0,
    !is.na(n) ~ as.numeric(n)
  )) %>% select(Metacritic_norm_round, count)

#MC User
mc_user_count <- count(other_critics, Metacritic_user_norm_round)
mc_user_data <- tibble(Metacritic_user_norm_round = seq(0.5, 5, .5)) %>% 
  full_join(mc_user_count) %>% 
  mutate(count = case_when(
    is.na(n) ~ 0,
    !is.na(n) ~ as.numeric(n)
  )) %>% select(Metacritic_user_norm_round, count)

#IMDB user
imdb_user_count <- count(other_critics, IMDB_norm_round)
imdb_user_data <- tibble(IMDB_norm_round = seq(0.5, 5, .5)) %>% 
  full_join(imdb_user_count) %>% 
  mutate(count = case_when(
    is.na(n) ~ 0,
    !is.na(n) ~ as.numeric(n)
  )) %>% select(IMDB_norm_round, count) 

```

```{r}
#Combined Plot


```

### Conclusion

## HTML

IGNORE THIS PART - TO COME

```{r}

```
